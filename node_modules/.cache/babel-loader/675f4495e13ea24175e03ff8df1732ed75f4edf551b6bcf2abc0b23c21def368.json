{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import SearchBar from'../components/SearchBar';import BookList from'../components/BookList';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BookSearchPage=_ref=>{let{addToBookshelf}=_ref;const[query,setQuery]=useState('');const[books,setBooks]=useState([]);useEffect(()=>{if(query.length>2){axios.get(\"https://openlibrary.org/search.json?q=\".concat(query,\"&limit=10&page=1\")).then(response=>{const booksWithImages=response.data.docs.map(book=>{const coverUrl=\"http://covers.openlibrary.org/b/id/\".concat(book.cover_i,\"-M.jpg\");return{...book,coverUrl};});setBooks(booksWithImages);}).catch(error=>{console.error(\"Error fetching data: \",error);});}},[query]);return/*#__PURE__*/_jsxs(\"div\",{className:\"BookSearchPage\",children:[/*#__PURE__*/_jsx(SearchBar,{query:query,setQuery:setQuery}),/*#__PURE__*/_jsx(BookList,{books:books,addToBookshelf:addToBookshelf})]});};export default BookSearchPage;","map":{"version":3,"names":["React","useState","useEffect","axios","SearchBar","BookList","jsx","_jsx","jsxs","_jsxs","BookSearchPage","_ref","addToBookshelf","query","setQuery","books","setBooks","length","get","concat","then","response","booksWithImages","data","docs","map","book","coverUrl","cover_i","catch","error","console","className","children"],"sources":["D:/extra/bookshelf/personal-bookshelf/src/pages/BookSearchPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport SearchBar from '../components/SearchBar';\r\nimport BookList from '../components/BookList';\r\n\r\nconst BookSearchPage = ({ addToBookshelf }) => {\r\n    const [query, setQuery] = useState('');\r\n    const [books, setBooks] = useState([]);\r\n\r\n    useEffect(() => {\r\n        if (query.length > 2) {\r\n            axios.get(`https://openlibrary.org/search.json?q=${query}&limit=10&page=1`)\r\n                .then(response => {\r\n                    const booksWithImages = response.data.docs.map(book => {\r\n                        const coverUrl = `http://covers.openlibrary.org/b/id/${book.cover_i}-M.jpg`;\r\n                        return { ...book, coverUrl };\r\n                    });\r\n                    setBooks(booksWithImages);\r\n                })\r\n                .catch(error => {\r\n                    console.error(\"Error fetching data: \", error);\r\n                });\r\n        }\r\n    }, [query]);\r\n\r\n    return (\r\n        <div className='BookSearchPage'>\r\n            <SearchBar query={query} setQuery={setQuery} />\r\n            <BookList books={books} addToBookshelf={addToBookshelf} />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default BookSearchPage;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,SAAS,KAAM,yBAAyB,CAC/C,MAAO,CAAAC,QAAQ,KAAM,wBAAwB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE9C,KAAM,CAAAC,cAAc,CAAGC,IAAA,EAAwB,IAAvB,CAAEC,cAAe,CAAC,CAAAD,IAAA,CACtC,KAAM,CAACE,KAAK,CAAEC,QAAQ,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACc,KAAK,CAAEC,QAAQ,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAEtCC,SAAS,CAAC,IAAM,CACZ,GAAIW,KAAK,CAACI,MAAM,CAAG,CAAC,CAAE,CAClBd,KAAK,CAACe,GAAG,0CAAAC,MAAA,CAA0CN,KAAK,oBAAkB,CAAC,CACtEO,IAAI,CAACC,QAAQ,EAAI,CACd,KAAM,CAAAC,eAAe,CAAGD,QAAQ,CAACE,IAAI,CAACC,IAAI,CAACC,GAAG,CAACC,IAAI,EAAI,CACnD,KAAM,CAAAC,QAAQ,uCAAAR,MAAA,CAAyCO,IAAI,CAACE,OAAO,UAAQ,CAC3E,MAAO,CAAE,GAAGF,IAAI,CAAEC,QAAS,CAAC,CAChC,CAAC,CAAC,CACFX,QAAQ,CAACM,eAAe,CAAC,CAC7B,CAAC,CAAC,CACDO,KAAK,CAACC,KAAK,EAAI,CACZC,OAAO,CAACD,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CACjD,CAAC,CAAC,CACV,CACJ,CAAC,CAAE,CAACjB,KAAK,CAAC,CAAC,CAEX,mBACIJ,KAAA,QAAKuB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC3B1B,IAAA,CAACH,SAAS,EAACS,KAAK,CAAEA,KAAM,CAACC,QAAQ,CAAEA,QAAS,CAAE,CAAC,cAC/CP,IAAA,CAACF,QAAQ,EAACU,KAAK,CAAEA,KAAM,CAACH,cAAc,CAAEA,cAAe,CAAE,CAAC,EACzD,CAAC,CAEd,CAAC,CAED,cAAe,CAAAF,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}